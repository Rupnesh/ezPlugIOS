(self.webpackChunkeZPlug=self.webpackChunkeZPlug||[]).push([[9359],{1091:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});const i=(0,n(8384).fo)("Geolocation",{web:()=>n.e(3384).then(n.bind(n,3384)).then(t=>new t.GeolocationWeb)})},9359:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DashboardPageModule:()=>H});var i=n(7823),o=n(5298),r=n(8583),a=n(665),s=n(4607),c=n(4762),l=n(2810),d=n(1091),g=n(5466),h=n(7481),u=n(7716),p=n(1188),m=n(7160),b=n(7906),f=n(5970),x=n(6773),v=n(9496),Z=n(4471),C=n(1779),S=n(9315),P=n(6030),y=n(2218);function O(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-col",26),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw(3).showStationListPrompt(e)}),u.TgZ(1,"div",27),u.TgZ(2,"span",28),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"ion-text",1),u.TgZ(5,"ion-label",29),u._uU(6),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=u.oxw(3);u.xp6(1),u.Udp("background-color",i.getBackgroundColor(n)),u.MGl("id","avatar-circle",n,""),u.xp6(2),u.Oqu(t.siteName.charAt(0)),u.xp6(3),u.Oqu(t.siteName)}}function T(t,e){if(1&t&&(u.TgZ(0,"ion-row",24),u.YNc(1,O,7,5,"ion-col",25),u.qZA()),2&t){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t.favourites)}}function _(t,e){1&t&&(u.TgZ(0,"ion-col",32),u.TgZ(1,"div",33),u._UZ(2,"ion-skeleton-text",34),u.qZA(),u.TgZ(3,"ion-label"),u._UZ(4,"ion-skeleton-text",35),u.qZA(),u.qZA())}const A=function(){return[]};function w(t,e){1&t&&(u.TgZ(0,"ion-row",30),u.YNc(1,_,5,0,"ion-col",31),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",u.DdM(1,A).constructor(4)))}function M(t,e){1&t&&(u.TgZ(0,"ion-text",36),u._uU(1,"No data found"),u.qZA())}const q=function(t,e,n,i){return[t,e,n,i]};function I(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-item",49),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw(5).stationDetails(e)}),u.TgZ(1,"div",50),u.TgZ(2,"span",51),u._UZ(3,"div",52),u.TgZ(4,"ion-text",53),u._uU(5),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(3),u.Q6J("ngClass",u.l5B(2,q,t.isConnectedToIoTHub&&"Available"===t.status?"greenGradient":"",t.isConnectedToIoTHub&&"Offline"===t.status?"grayGradient":"",t.isConnectedToIoTHub&&"Occupied"===t.status?"redGradient":"",t.isConnectedToIoTHub?"":"grayGradient")),u.xp6(2),u.Oqu(null==t?null:t.stationName)}}function N(t,e){1&t&&(u.TgZ(0,"ion-item",54),u._UZ(1,"ion-spinner",55),u.qZA())}function k(t,e){if(1&t&&(u.TgZ(0,"ion-row"),u.YNc(1,I,6,7,"ion-item",47),u.YNc(2,N,2,0,"ion-item",48),u.qZA()),2&t){const t=u.oxw(4);u.xp6(1),u.Q6J("ngForOf",t.stationList),u.xp6(1),u.Q6J("ngIf",!t.stationListError)}}function E(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-card",38),u.TgZ(1,"ion-card-content"),u.TgZ(2,"ion-row",39),u.NdJ("click",function(){const e=u.CHM(t),n=e.$implicit,i=e.index;return u.oxw(3).toggleGroup(n,i)}),u.TgZ(3,"ion-col",40),u.TgZ(4,"strong"),u.TgZ(5,"ion-text",41),u._uU(6),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"ion-col",42),u.TgZ(8,"span"),u._UZ(9,"ion-icon",43),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"ion-row",44),u.NdJ("click",function(){const e=u.CHM(t),n=e.$implicit,i=e.index;return u.oxw(3).toggleGroup(n,i)}),u.TgZ(11,"ion-col",40),u.TgZ(12,"ion-text",45),u._uU(13),u.qZA(),u.qZA(),u.TgZ(14,"ion-col",42),u.TgZ(15,"ion-text",46),u._uU(16),u.qZA(),u.qZA(),u.qZA(),u.YNc(17,k,3,2,"ion-row",16),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit,n=u.oxw(3);u.xp6(6),u.Oqu(null==t?null:t.siteName),u.xp6(3),u.s9C("name",t.show?"chevron-down-circle":"chevron-forward-circle"),u.xp6(4),u.Oqu((null==t?null:t.address.slice(0,50))+"..."),u.xp6(3),u.hij("",null==t?null:t.distance.toFixed(0)," km"),u.xp6(1),u.Q6J("ngIf",n.isGroupShown(t))}}function U(t,e){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,E,18,5,"ion-card",37),u.qZA()),2&t){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t.history)}}function D(t,e){1&t&&(u.TgZ(0,"ion-card",38),u.TgZ(1,"ion-card-content"),u.TgZ(2,"ion-row",56),u.TgZ(3,"ion-col",40),u.TgZ(4,"strong"),u._UZ(5,"ion-skeleton-text",57),u.qZA(),u.qZA(),u.TgZ(6,"ion-col",42),u.TgZ(7,"span"),u._UZ(8,"ion-skeleton-text",58),u.qZA(),u.qZA(),u.qZA(),u.TgZ(9,"ion-row"),u.TgZ(10,"ion-col",40),u._UZ(11,"ion-skeleton-text",59),u.qZA(),u.TgZ(12,"ion-col",42),u._UZ(13,"ion-skeleton-text",60),u.qZA(),u.qZA(),u.qZA(),u.qZA())}function L(t,e){1&t&&(u.TgZ(0,"div"),u.YNc(1,D,14,0,"ion-card",37),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",u.DdM(1,A).constructor(5)))}function F(t,e){1&t&&(u.TgZ(0,"ion-text",61),u._uU(1,"No data found"),u.qZA())}function G(t,e){if(1&t&&(u.TgZ(0,"div"),u.TgZ(1,"ion-grid",18),u.TgZ(2,"div",19),u.TgZ(3,"ion-text",1),u.TgZ(4,"h4"),u._uU(5,"Favourites"),u.qZA(),u.qZA(),u.qZA(),u.YNc(6,T,2,1,"ion-row",20),u.YNc(7,w,2,2,"ion-row",21),u.YNc(8,M,2,0,"ion-text",22),u.qZA(),u.TgZ(9,"ion-list"),u.TgZ(10,"ion-list-header"),u.TgZ(11,"ion-text",1),u.TgZ(12,"h4"),u._uU(13,"History"),u.qZA(),u.qZA(),u.qZA(),u.YNc(14,U,2,1,"div",16),u.YNc(15,L,2,2,"div",16),u.YNc(16,F,2,0,"ion-text",23),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(6),u.Q6J("ngIf",t.favourites.length>0),u.xp6(1),u.Q6J("ngIf",!t.favourites.length&&0==t.favouriteNoDataFound),u.xp6(1),u.Q6J("ngIf",0==t.favourites.length&&1==t.favouriteNoDataFound),u.xp6(6),u.Q6J("ngIf",t.history.length>0),u.xp6(1),u.Q6J("ngIf",!t.history.length&&!1===t.historyNoDataFound),u.xp6(1),u.Q6J("ngIf",0==t.history.length&&!0===t.historyNoDataFound)}}function Y(t,e){1&t&&(u.TgZ(0,"div",62),u.TgZ(1,"ion-row"),u.TgZ(2,"ion-col",8),u._UZ(3,"ion-icon",63),u.qZA(),u.TgZ(4,"ion-col",8),u.TgZ(5,"ion-label",64),u._uU(6,"You are offline!!!"),u.qZA(),u.TgZ(7,"ion-label",64),u._uU(8,"Pull down to refresh"),u.qZA(),u.qZA(),u.qZA(),u.qZA())}let z=(()=>{class t{constructor(t,e,n,i,o,r,a,s,c,l,d,g,h,u,p,m){this.storage=t,this.router=e,this.qrScanner=n,this.platform=i,this.dashboardService=o,this.modalController=r,this.alertController=a,this.menuController=s,this.alertService=c,this.signalRService=l,this.networkService=d,this.loaderService=g,this.oneSignal=h,this.androidPermissions=u,this.locationAccuracy=p,this.smsRetriever=m,this.isOn=!1,this.history=[],this.favourites=[],this.stationList=[],this.info=[],this.favouriteNoDataFound=!1,this.historyNoDataFound=!1,this.stationListError=!1,i.ready().then(()=>{i.is("cordova")&&(this.platform.pause.subscribe(()=>{}),this.platform.resume.subscribe(()=>{window.paused=0}))})}doRefresh(t){setTimeout(()=>(0,c.mG)(this,void 0,void 0,function*(){t.target.complete(),this.getHistory(this.userID,this.objUserSession),this.getFavourites(this.userID,this.objUserSession),this.networkStatus=yield this.networkService.getNetworkStatus(),this.dashboardService.getActiveTransactionForUser().subscribe(t=>{0==t.hasError&&(t.isInvoiceAvailable?this.router.navigate(["app/bill"],{queryParams:{transctionId:t.transactionId}}):this.router.navigate(["app/charge"]))})}),2e3)}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){this.platform.is("android")&&(this.userDetails=yield this.storage.getObject(g.E.OTP_SESSION),"7972209516"!==this.userDetails.user.userName&&"9130254339"!==this.userDetails.user.userName&&"9604449379"!==this.userDetails.user.userName&&"8698230085"!==this.userDetails.user.userName||this.smsRetriever.getAppHash().then(t=>{this.dashboardService.storeAppHaskKey(t).subscribe(t=>{})}).catch(t=>console.error(t))),this.dashboardService.getWalletBalance().subscribe(t=>{!1===t.hasError&&this.dashboardService.setItem1(g.E.WALLET_BALANCE,t.walletBalance.toString())}),this.dashboardService.checkMinimumWalletBalanceMaintained().subscribe(t=>{!1===t.isMinimumWalletBalanceMaintained&&(this.dashboardService.setItem1(g.E.MINIMUM_WALLET_BALANCE,t.minimumWalletBalance.toString()),this.alertService.presentAlertModel(`Insufficient balance in wallet! Please maintain \u20b9${t.minimumWalletBalance}.`,"wallet"))})})}ionViewDidEnter(){this.platform.backButton.subscribeWithPriority(9999,()=>{document.getElementsByTagName("body")[0].style.opacity="1",this.qrScanner.destroy(),this.isOn=!1})}ionViewWillEnter(){return(0,c.mG)(this,void 0,void 0,function*(){this.menuController.enable(!0),this.networkStatus=yield this.networkService.getNetworkStatus(),this.objUserSession=yield this.dashboardService.getObject(g.E.OTP_SESSION),this.objUserLocation=yield this.dashboardService.getObject(g.E.USER_LOCATION),this.networkStatus.connected&&this.objUserSession&&(this.userID=this.objUserSession.user.userId,this.platform.is("cordova")&&(this.info=yield l.A.getInfo(),this.oneSignal.getIds().then(t=>{this.dashboardService.registerUserForPushNotifications({playerId:t.userId,userId:this.userID,deviceType:this.info.platform,deviceModel:this.info.model,deviceOS:this.info.operatingSystem,deviceIdentifier:this.info.uuid}).subscribe(t=>{})})),this.checkGPSPermission()),null==this.objUserLocation&&(this.objUserLocation={Lattitude:0,Longitude:0})})}getLocationCoordinates(){return(0,c.mG)(this,void 0,void 0,function*(){try{this.currentPos=yield d.b.getCurrentPosition({enableHighAccuracy:!0});let t={Lattitude:Number(this.currentPos.coords.latitude.toFixed(6)),Longitude:Number(this.currentPos.coords.longitude.toFixed(6))};this.objUserLocation=t,this.storage.setObject(g.E.USER_LOCATION,t),this.getHistory(this.userID,this.objUserSession),this.getFavourites(this.userID,this.objUserSession),this.dashboardService.removeItemName(g.E.IS_CHARGING_ENABLED),this.dashboardService.removeItemName(g.E.STOP_CLICKED)}catch(t){this.objUserLocation={Lattitude:0,Longitude:0},this.getHistory(this.userID,this.objUserSession),this.getFavourites(this.userID,this.objUserSession),this.dashboardService.removeItemName(g.E.IS_CHARGING_ENABLED),this.dashboardService.removeItemName(g.E.STOP_CLICKED)}})}getHistory(t,e){this.dashboardService.getHistoryData(this.objUserLocation,t,e).subscribe(t=>{!1===t.hasError&&(this.history=t.siteViewModels,this.historyNoDataFound=!1)},t=>{this.historyNoDataFound=!0,401===t.status&&this.alertService.presentAlertOTP(g.E.HTTP_UNAUTHORIZED_ERROR,"auth/login")})}getFavourites(t,e){this.dashboardService.getFavouriteData(this.objUserLocation,t,e).subscribe(t=>{!1===t.hasError&&(this.favourites=t.siteViewModels)},t=>{this.favouriteNoDataFound=!0})}presentModal(){return(0,c.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:h.k,cssClass:"my-custom-modal-css",componentProps:{firstName:"Douglas",lastName:"Adams",middleInitial:"N"}});return yield t.present()})}getBackgroundColor(t){var e=["#e53935","#7c4dff","#00e676","#ef6c00","#26a69a","#9c27b0","#66bb6a","#00acc1"];let n="";return 0!==t&&5!==t||(n=e[0]),1!==t&&6!==t||(n=e[1]),2!==t&&7!==t||(n=e[2]),3!==t&&8!==t||(n=e[3]),4!==t&&9!==t||(n=e[4]),5!==t&&10!==t||(n=e[5]),n}handleQrCodeResult(t){const e=JSON.parse(t);this.qrResultString="name: "+e.name+" age: "+e.age}scanCode(){this.qrScanner.prepare().then(t=>{this.isOn=!0,t.authorized&&(this.qrScanner.show(),document.getElementsByTagName("body")[0].style.opacity="0",this.scanSub=this.qrScanner.scan().subscribe(t=>{document.getElementsByTagName("body")[0].style.opacity="1",this.presentAlertConfirm(t)},t=>{}))}).catch(t=>{this.alertService.presentToast(t._message?t._message:t)})}logoutUser(){this.storage.removeItem().then(t=>{this.router.navigate(["auth/login"])})}serachNearBy(){this.router.navigate(["app/search-near-by"])}searchFn(t){return(0,c.mG)(this,void 0,void 0,function*(){this.router.navigate(["app/homesearch"])})}presentAlertConfirm(t){return(0,c.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Confirm!",message:`Connect to staion <strong>${JSON.parse(t).stationName}</strong>!!!`,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{document.getElementsByTagName("body")[0].style.opacity="1",this.qrScanner.hide(),this.scanSub.unsubscribe(),this.qrScanner.destroy()}},{text:"Okay",handler:()=>{document.getElementsByTagName("body")[0].style.opacity="1",this.qrScanner.hide(),this.scanSub.unsubscribe(),this.qrScanner.destroy(),JSON.parse(t),this.dashboardService.setObject(JSON.parse(t),g.E.STATION_DETAILS).then(t=>{this.router.navigate(["app/station-details"],{replaceUrl:!0,state:{nearby:!1}})})}}]});yield e.present()})}toggleGroup(t,e){this.stationList=[],this.stationListError=!1,this.dashboardService.setObject(t,g.E.SITE_DETAILS).then(e=>{this.history.map((e,n)=>{e.show=t.siteID===e.siteID}),this.dashboardService.getStationList(t.siteID).subscribe(t=>{!1===t.hasError?(this.stationList=t.stationViewModels,this.pricingDetails=t.pricingDetails,this.dashboardService.setItem1(g.E.PRICING_DETAILS,this.pricingDetails.toString()),this.stationListError=!0):(this.alertService.presentToast(t.errorDescription),this.stationListError=!0)},t=>{this.alertService.presentToast(g.E.HTTP_RESPONSE_ERROR),this.stationListError=!0})})}isGroupShown(t){return t.show}stationDetails(t){this.dashboardService.setObject(t,g.E.STATION_DETAILS).then(e=>{t.stationName.includes("BLE-",0)?this.router.navigate(["app/station-details-ble"]):this.router.navigate(["app/station-details"])})}showStationListPrompt(t){return(0,c.mG)(this,void 0,void 0,function*(){this.stationList=[],this.dashboardService.getStationList(t.siteID).subscribe(e=>{!1===e.hasError?(this.dashboardService.setItem(e.pricingDetails,g.E.PRICING_DETAILS),this.warn(t,e.stationViewModels)):this.alertService.presentToast(e.errorDescription)},t=>{this.alertService.presentToast(g.E.HTTP_RESPONSE_ERROR)})})}warn(t,e){return(0,c.mG)(this,void 0,void 0,function*(){let n=[],i=e;return new Promise(e=>(0,c.mG)(this,void 0,void 0,function*(){i.map(t=>{n.push({type:"radio",label:t.stationName,value:t})}),(yield this.alertController.create({header:t.siteName,subHeader:"Select Station",inputs:n,cssClass:"station-alert",buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"OK",handler:t=>{this.dashboardService.setObject(t,g.E.STATION_DETAILS).then(e=>{t.stationName.includes("BLE-",0)?this.router.navigate(["app/station-details-ble"]):this.router.navigate(["app/station-details"],{replaceUrl:!0,state:{nearby:!1}})})}}]})).present()}))})}onClear(t){}checkGPSPermission(){this.platform.is("cordova")?this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(t=>{t.hasPermission?this.askToTurnOnGPS():this.requestGPSPermission()},t=>{this.alertService.presentToast(t)}):this.getLocationCoordinates()}requestGPSPermission(){this.locationAccuracy.canRequest().then(t=>{t?this.getLocationCoordinates():this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(()=>{this.askToTurnOnGPS()},t=>{this.requestGPSPermission(),this.alertService.presentToast(t)})})}askToTurnOnGPS(){this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(()=>{this.getLocationCoordinates()},t=>{this.requestGPSPermission(),this.alertService.presentToast(t)})}getLocationCoordinates1(){return(0,c.mG)(this,void 0,void 0,function*(){d.b.getCurrentPosition().then(t=>{let e={Lattitude:Number(t.coords.latitude.toFixed(6)),Longitude:Number(t.coords.longitude.toFixed(6))};this.objUserLocation=e,this.storage.setObject(g.E.USER_LOCATION,e)}).catch(t=>{this.alertService.presentToast(t)})})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(p.V),u.Y36(o.F0),u.Y36(m.l),u.Y36(i.t4),u.Y36(b.u),u.Y36(i.IN),u.Y36(i.Br),u.Y36(i._q),u.Y36(f.c),u.Y36(x.M),u.Y36(v.S),u.Y36(Z.D),u.Y36(C.HE),u.Y36(S.r),u.Y36(P.E),u.Y36(y.u))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-dashboard"]],decls:27,vars:2,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["name","grid-outline"],["scrollEvents","true"],["scrollArea",""],["sticky","",2,"padding-left","0","background-color","#fff","border-bottom","none","background","#216581","border-bottom-left-radius","72px"],[2,"width","100%"],["size","12"],["mode","ios","placeholder","Search by Name or ID",1,"items-searchbar",3,"ionFocus","ionClear"],["id","toolsBlock",1,"ion-justify-content-center",2,"width","100%"],["size","3",2,"text-align","center"],["color","medium","name","scan-outline","size","large",3,"click"],["color","medium",2,"font-size","12px"],["color","medium","name","map-outline","size","large",3,"click"],["color","medium","slot","fixed",3,"ionRefresh"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[2,"margin","0 0 10px 0"],[2,"padding","10px"],["class","horizon","nowrap","",4,"ngIf"],["class","inner-contents item-40px nowrap",4,"ngIf"],["style","width: 100%;margin-left: 12px;font-size: 14px;color: var(--ion-color-primary-tint);",4,"ngIf"],["style","width: 100%;margin-left: 20px;font-size: 14px;color: var(--ion-color-primary-tint);",4,"ngIf"],["nowrap","",1,"horizon"],["size","2.7","style","text-align: center;",3,"click",4,"ngFor","ngForOf"],["size","2.7",2,"text-align","center",3,"click"],[1,"avatar-circle",3,"id"],[1,"initials"],[2,"font-size","12px","padding-top","10px"],[1,"inner-contents","item-40px","nowrap"],["size","2.7","style","text-align: center;",4,"ngFor","ngForOf"],["size","2.7",2,"text-align","center"],[1,"avatar-circle"],["animated","",1,"avatar-circle-skeleton"],["animated","",2,"margin-top","-5px","height","12px"],[2,"width","100%","margin-left","12px","font-size","14px","color","var(--ion-color-primary-tint)"],["class","glass-card",4,"ngFor","ngForOf"],[1,"glass-card"],[2,"margin-bottom","5px",3,"click"],["size","9",2,"padding","0 !important"],["color","primary",1,"glass-card-site-name"],["size","3",2,"padding","0 !important","text-align","right"],["color","primary",2,"height","20px","width","20px",3,"name"],[3,"click"],["color","primary",1,"glass-card-site-address"],["color","primary",1,"glass-card-site-distance"],["class","inner-contents item-40px glass-card-inner","lines","none","style","padding-left: 16px; margin-top: 16px; width: 100%;",3,"click",4,"ngFor","ngForOf"],["style","width: 100%;","class","inner-contents item-40px ","lines","none",4,"ngIf"],["lines","none",1,"inner-contents","item-40px","glass-card-inner",2,"padding-left","16px","margin-top","16px","width","100%",3,"click"],[2,"width","100%","display","flex","justify-content","space-between"],[2,"display","flex","align-items","center"],[2,"height","20px","width","20px","margin-right","10px","border-radius","50%",3,"ngClass"],["color","primary",1,"glass-card-station-name"],["lines","none",1,"inner-contents","item-40px",2,"width","100%"],["color","primary","name","bubbles",2,"text-align","center","display","block","margin","0 auto"],[2,"margin-bottom","5px"],["animated","",2,"width","90%"],["animated","",2,"width","40%","float","right"],["animated","",2,"width","80%"],["animated",""],[2,"width","100%","margin-left","20px","font-size","14px","color","var(--ion-color-primary-tint)"],[2,"text-align","center"],["color","light","name","cloud-offline-outline",2,"font-size","72px"],["color","light"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header",0),u.TgZ(1,"ion-toolbar",1),u.TgZ(2,"ion-buttons",2),u.TgZ(3,"ion-menu-button"),u._UZ(4,"ion-icon",3),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6," Dashboard "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"ion-content",4,5),u.TgZ(9,"ion-item-group"),u.TgZ(10,"ion-item-divider",6),u.TgZ(11,"ion-row",7),u.TgZ(12,"ion-col",8),u.TgZ(13,"ion-searchbar",9),u.NdJ("ionFocus",function(t){return e.searchFn(t)})("ionClear",function(t){return e.onClear(t)}),u.qZA(),u.TgZ(14,"ion-row",10),u.TgZ(15,"ion-col",11),u.TgZ(16,"ion-icon",12),u.NdJ("click",function(){return e.scanCode()}),u.qZA(),u.TgZ(17,"ion-label",13),u._uU(18,"Scan"),u.qZA(),u.qZA(),u.TgZ(19,"ion-col",11),u.TgZ(20,"ion-icon",14),u.NdJ("click",function(){return e.serachNearBy()}),u.qZA(),u.TgZ(21,"ion-label",13),u._uU(22,"Near by"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(23,"ion-refresher",15),u.NdJ("ionRefresh",function(t){return e.doRefresh(t)}),u._UZ(24,"ion-refresher-content"),u.qZA(),u.YNc(25,G,17,6,"div",16),u.YNc(26,Y,9,0,"div",17),u.qZA(),u.qZA()),2&t&&(u.xp6(25),u.Q6J("ngIf",null==e.networkStatus?null:e.networkStatus.connected),u.xp6(1),u.Q6J("ngIf",!(null!=e.networkStatus&&e.networkStatus.connected)))},directives:[i.Gu,i.sr,i.Sm,i.fG,i.gu,i.wd,i.W2,i.Ub,i.rH,i.Nd,i.wI,i.VI,i.j9,i.Q$,i.nJ,i.Wo,r.O5,i.jY,i.yW,i.q_,i.yh,r.sg,i.CK,i.PM,i.FN,i.Ie,r.mk,i.PQ],styles:['[_nghost-%COMP%]{--page-page-color:var(--ion-color-page-content)}[_nghost-%COMP%]   .item-interactive.ion-valid[_ngcontent-%COMP%], [_nghost-%COMP%]   .item-interactive.item-has-focus[_ngcontent-%COMP%]{--highlight-background:#0000!important}[_nghost-%COMP%]   .item-native[_ngcontent-%COMP%]{--border-color:none}.avatar-circle[_ngcontent-%COMP%]{width:36px;height:36px}.avatar-circle[_ngcontent-%COMP%], .avatar-circle-skeleton[_ngcontent-%COMP%]{text-align:center;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;display:table;margin:0 auto}.avatar-circle-skeleton[_ngcontent-%COMP%]{width:30px;height:30px}.initials[_ngcontent-%COMP%]{font-size:18px;color:#fff;display:table-cell;vertical-align:middle}.setstyle[_ngcontent-%COMP%]{z-index:200;width:100%;height:400px;padding-left:0!important;padding-right:0!important;overflow:scroll;position:absolute;margin-top:50px}.item-40px[_ngcontent-%COMP%]{--min-height:34px!important;--max-height:34px!important;height:34px!important;--inner-padding-end:0px!important;--padding-start:0}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f3f1f1}h6[_ngcontent-%COMP%]{overflow:hidden;text-align:center;margin:16px 5px}h6[_ngcontent-%COMP%]:after, h6[_ngcontent-%COMP%]:before{background-color:#c1c1c1;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}h6[_ngcontent-%COMP%]:before{right:.5em;margin-left:-50%}h6[_ngcontent-%COMP%]:after{left:.5em;margin-right:-50%}.show-qr-scanner[_ngcontent-%COMP%]{display:none}.horizon[_ngcontent-%COMP%]{margin-left:10px;flex-wrap:nowrap;overflow-x:scroll!important;overflow-y:hidden}.qr_view[_ngcontent-%COMP%]{display:none}#light_qr[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px;height:50px;width:50px}#qr_region[_ngcontent-%COMP%]{position:absolute;width:80vw;height:80vw;top:calc(50vh - 40vw - 33px);left:10vw}.qr_cancel[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100vw;padding:15px 0;background:#000;color:#fff;font-size:18px;border:1px solid #000;text-align:center}.greenGradient[_ngcontent-%COMP%]{background-color:#00b712;background-image:linear-gradient(315deg,#00b712,#5aff15 74%)}.redGradient[_ngcontent-%COMP%]{background-color:#fc9842;background-image:linear-gradient(315deg,#fc9842,#fe5f75 74%)}.grayGradient[_ngcontent-%COMP%]{background-color:#8b8b8b;background-image:linear-gradient(315deg,#8b8b8b,#ccc 74%)}ion-refresher[_ngcontent-%COMP%]{top:140px}  .station-alert{--select-alert-color:#000;--select-alert-background:#fff;--select-alert-margin:16px;--select-alert-color:#fff;--select-alert-background:var(--ion-color-primary);--select-alert-margin:var(--app-fair-margin)}  .station-alert .alert-head{padding-top:calc((var(--select-alert-margin) / 4) * 3);padding-bottom:calc((var(--select-alert-margin) / 4) * 3);padding-inline-start:var(--select-alert-margin);padding-inline-end:var(--select-alert-margin)}  .station-alert .alert-title{color:#fff}  .station-alert .alert-head,   .station-alert .alert-message{background-color:var(--select-alert-background)}  .station-alert .alert-wrapper.sc-ion-alert-ios .alert-title{margin:0}  .station-alert .alert-wrapper.sc-ion-alert-md .alert-title{font-size:18px;font-weight:400}  .station-alert .alert-wrapper.sc-ion-alert-md .alert-button{--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}  .station-alert .alert-message{display:none}  .station-alert .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-medium)}  .station-alert [aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:#fff}  .station-alert [aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:#fff}  .station-alert [aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{background-color:#fff}.glass-card[_ngcontent-%COMP%], .glass-card-inner[_ngcontent-%COMP%]{border-radius:16px;box-shadow:20px 20px 60px #bebebe,-20px -20px 60px #fff}ion-item[_ngcontent-%COMP%]{--background:#0000!important}.scan-box[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 0 0 100vmax #00000080;content:"";display:block;left:50%;height:300px;top:50%;transform:translate(-50%,-50%);width:300px}.element[_ngcontent-%COMP%], .scan-box[_ngcontent-%COMP%]{position:absolute;z-index:99999}.element[_ngcontent-%COMP%]{top:0;width:500px;height:500px;background:#f00c;-webkit-clip-path:polygon(0 0,0 100%,25% 100%,25% 25%,75% 25%,75% 75%,25% 75%,25% 100%,100% 100%,100% 0);clip-path:polygon(0 0,0 100%,25% 100%,25% 25%,75% 25%,75% 75%,25% 75%,25% 100%,100% 100%,100% 0)}',"app-image-shell.category-cover[_ngcontent-%COMP%]{--image-shell-loading-background:rgba(var(--page-category-background-rgb),.25);--image-shell-spinner-color:var(--ion-color-lightest)}","@media only screen and (min-device-width: 320px) and (max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2) and (device-aspect-ratio: 2/3){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-anchor[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:16px}}@media only screen and (min-device-width: 375px) and (max-device-width: 667px) and (-webkit-min-device-pixel-ratio: 2){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-anchor[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:20px;padding:var(--page-margin) calc((var(--page-margin) * 3) / 2)}}@media only screen and (min-device-width: 375px) and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 3){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-anchor[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:20px;padding:var(--page-margin) calc((var(--page-margin) * 3) / 2)}}@media only screen and (min-device-width: 414px) and (max-device-width: 736px) and (-webkit-min-device-pixel-ratio: 3){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-anchor[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{font-size:20px;padding:var(--page-margin) calc((var(--page-margin) * 3) / 2)}}"]}),t})();var R=n(1841),J=n(155),j=n(3985);const B=[{path:"",component:z,children:[{path:"dashboard",children:[{path:"",loadChildren:()=>Promise.resolve().then(n.bind(n,9359)).then(t=>t.DashboardPageModule)}]}]},{path:"homesearch",loadChildren:()=>n.e(3070).then(n.bind(n,3070)).then(t=>t.SearchModalModule)},{path:"station-details/:id",loadChildren:()=>Promise.all([n.e(8592),n.e(1238)]).then(n.bind(n,1238)).then(t=>t.StationDetailsPageModule)},{path:"station-details",loadChildren:()=>Promise.all([n.e(8592),n.e(1238)]).then(n.bind(n,1238)).then(t=>t.StationDetailsPageModule)},{path:"station-details-ble",loadChildren:()=>Promise.all([n.e(8592),n.e(261)]).then(n.bind(n,261)).then(t=>t.StationDetailsBlePageModule)},{path:"charge-ble",loadChildren:()=>n.e(982).then(n.bind(n,982)).then(t=>t.ChargeBlePageModule)},{path:"search-near-by",loadChildren:()=>n.e(7947).then(n.bind(n,7947)).then(t=>t.SearchNearByPageModule)},{path:"charge",loadChildren:()=>n.e(3712).then(n.bind(n,3712)).then(t=>t.ChargePageModule)},{path:"bill",loadChildren:()=>n.e(6462).then(n.bind(n,6462)).then(t=>t.BillPageModule)},{path:"",redirectTo:"app/dashboard",pathMatch:"full"}];let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[v.S,{provide:R.TP,useClass:J._,multi:!0},{provide:R.TP,useClass:j.m,multi:!0}],imports:[[i.Pc,r.ez,a.u5,s.K,o.Bz.forChild(B)]]}),t})()},7481:(t,e,n)=>{"use strict";n.d(e,{k:()=>d});var i=n(7716),o=n(5298),r=n(7906),a=n(4471),s=n(7823),c=n(5970),l=n(8583);let d=(()=>{class t{constructor(t,e,n,i,o,r){this.router=t,this.dashboardService=e,this.loaderService=n,this.alertController=i,this.alertService=o,this.modalController=r,this.successMessage="Your payment has been done.",this.failedMessage="Your payment has failed."}ngOnInit(){}closeModal(){this.modalController.dismiss(),"SUCCESS"===this.txStatus?(this.dashboardService.removeItem(),this.router.navigate(["app/charge"])):this.router.navigate(["app/bill"])}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(o.F0),i.Y36(r.u),i.Y36(a.D),i.Y36(s.Br),i.Y36(c.c),i.Y36(s.IN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-payment-status-modal"]],inputs:{txStatus:"txStatus",txMsg:"txMsg",paymentMode:"paymentMode",transactionId:"transactionId",orderAmount:"orderAmount",orderId:"orderId",orderCurrency:"orderCurrency",referenceId:"referenceId",txTime:"txTime"},decls:15,vars:4,consts:[[1,"payment-modal"],["id","myModal",1,"modal","fade"],[1,"modal-dialog","modal-confirm"],[1,"modal-content"],[1,"modal-header"],[1,"icon-box",3,"ngClass"],[3,"name"],[1,"modal-title"],[1,"modal-body"],[1,"text-center"],[1,"modal-footer"],["data-dismiss","modal",1,"btn","btn-success","btn-block",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"ion-content",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i._UZ(6,"ion-icon",6),i.qZA(),i.TgZ(7,"h4",7),i._uU(8),i.qZA(),i.qZA(),i.TgZ(9,"div",8),i.TgZ(10,"p",9),i._uU(11),i.qZA(),i.qZA(),i.TgZ(12,"div",10),i.TgZ(13,"button",11),i.NdJ("click",function(){return e.closeModal()}),i._uU(14,"OK"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(5),i.Q6J("ngClass","SUCCESS"===e.txStatus?"successPayment":"failedPayment"),i.xp6(1),i.Q6J("name","SUCCESS"===e.txStatus?"checkmark":"close"),i.xp6(2),i.Oqu("SUCCESS"===e.txStatus?"Success!!!":"Failed!!!"),i.xp6(3),i.Oqu("SUCCESS"===e.txStatus?e.successMessage:e.failedMessage))},directives:[s.W2,l.mk,s.gu],styles:[".modal-confirm[_ngcontent-%COMP%]{color:#636363;width:auto;margin:30px auto}.modal-confirm[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:20px;border-radius:5px;border:none}.modal-body[_ngcontent-%COMP%]{text-align:center}.modal-confirm[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:none;position:relative}.modal-confirm[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:26px;margin:30px 0 -15px}.modal-confirm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .modal-confirm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-height:40px;border-radius:3px}.modal-confirm[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px}.modal-confirm[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border:none;text-align:center;border-radius:5px;font-size:13px}ion-icon[_ngcontent-%COMP%]{align-items:center;vertical-align:middle;display:contents}.modal-confirm[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{color:#fff;margin:0 auto;left:0;right:0;top:-110px;width:95px;height:95px;border-radius:50%;z-index:9;padding:15px;text-align:center;box-shadow:0 2px 2px #0000001a}.successPayment[_ngcontent-%COMP%]{background:#82ce34}.failedPayment[_ngcontent-%COMP%]{background:red}.modal-confirm[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:58px;position:relative;top:3px}.modal-confirm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#fff;border-radius:4px;background:#82ce34;text-decoration:none;transition:all .4s;line-height:normal;border:none;width:50%}.modal-confirm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-confirm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#6fb32b;outline:none}.trigger-btn[_ngcontent-%COMP%]{display:inline-block;margin:100px auto}"]}),t})()}}]);